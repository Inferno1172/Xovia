<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>1 to 1 Chat</title>
  <link rel="stylesheet" href="./1to1.css">
</head>
<body>
  <div class="phone" id="phone">
    <div class="appbar">
      <div class="brand"><div class="avatar"></div><div>XOVIA<br>Your Companion</div></div>
      <div class="seg" role="tablist" aria-label="Mode switch">
        <button id="tabCharacter" class="active" role="tab" aria-selected="true">Character</button>
        <button id="tabChat" role="tab" aria-selected="false">Chat Log</button>
      </div>
      <div id="menuBtn" class="menuBtn" role="button" tabindex="0" aria-label="Menu"><span></span></div>
      <div id="menuPanel" class="menuPanel" role="menu" aria-label="Actions">
        <button class="menuItem" id="mNew" role="menuitem">Start New</button>
        <div class="menuHr"></div>
        <button class="menuItem" id="mJournal" role="menuitem">Open Journal</button>
        <button class="menuItem" id="mCopy" role="menuitem">Copy Last Reply</button>
        <div class="menuHr"></div>
        <button class="menuItem" id="mHelp" role="menuitem">Help & Hotlines</button>
        <button class="menuItem" id="mTwoChairs" role="menuitem">Go to Two Chairs</button>
        <!-- add below -->
        <div class="menuHr"></div>
        <button class="menuItem" id="mSettings" role="menuitem">Settings</button>
      </div>
    </div>

    <div class="views">
      <!-- CHARACTER MODE -->
      <section id="viewCharacter" class="panel" aria-label="Character mode">
        <div class="sky">
          <div class="panelBubble" id="panelBubble">
            <p id="panelText" class="clamp">Hi, Iâ€™m here with you. What feels most important to talk about today?</p>
            <div class="tapHint" id="tapHint">â€¦ tap to read full</div>
          </div>
          <div class="lumenWrap" aria-hidden="true">
            <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
          </div>
        </div>
        <div class="ground">
          <div class="pod">
            <input id="charInput" type="text" placeholder="Tell Lumen whatâ€™s on your mindâ€¦" maxlength="2000" />
            <button id="charSend">Send</button>
          </div>
          <button class="journalBtn" id="openJournal1">ðŸ“” Journal</button>
        </div>
      </section>

      <!-- CHAT MODE (log-only, read-only) -->
      <section id="viewChat" class="chat hidden" aria-label="Chat log mode">
        <div class="logHint">This is your conversation log. Switch to <strong>Character</strong> to continue chatting.</div>
        <div class="timeline" id="timeline"></div>
      </section>
    </div>
  </div>

  <!-- Journal / Transcript -->
  <div class="modal" id="journal" role="dialog" aria-modal="true" aria-labelledby="journalTitle">
    <div class="sheet">
      <div class="head"><div class="title" id="journalTitle">Conversation Journal</div></div>
      <div class="body" id="journalBody"></div>
      <div class="actions">
        <button class="btn" id="exportBtn">Export .txt</button>
        <button class="btn primary" id="closeJournal">Close</button>
      </div>
    </div>
  </div>

  <!-- Full Message Modal (for Character mode bubble) -->
  <div class="modal" id="fullModal" role="dialog" aria-modal="true" aria-labelledby="fullTitle">
    <div class="sheet">
      <div class="head"><div class="title" id="fullTitle">Lumenâ€™s Full Message</div></div>
      <div class="body"><div id="fullText" style="white-space:pre-wrap"></div></div>
      <div class="actions"><button class="btn primary" id="closeFull">Close</button></div>
    </div>
  </div>

  <!-- SOS / Crisis -->
  <div class="sos" id="sos" role="dialog" aria-modal="true" aria-labelledby="sosTitle">
    <div class="soscard">
      <div class="soshead"><div class="sostitle" id="sosTitle">âš  We're here with you</div></div>
      <div class="sosbody">
        <p id="sosMsg">We identified harmful words in your conversation. Life is worth living â€” you are not alone.</p>
        <div class="soslist">
          <a id="sosLink" class="pillbtn" href="#" target="_blank" rel="noopener">ðŸ”— See Help & Hotlines</a>
          <a id="sosResources" class="pillbtn" href="#" target="_blank" rel="noopener">ðŸ“˜ Open Safety Resources</a>
        </div>
      </div>
      <div class="sosactions">
        <button class="btn" id="sosClose">Close</button>
        <button class="btn primary" id="sosReset">Start New</button>
      </div>
    </div>
  </div>
  <!-- Tone Settings Modal -->
<div class="modal" id="settingsModal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
  <div class="sheet">
    <div class="head"><div class="title" id="settingsTitle">Settings</div></div>
    <div class="body">
      <div style="font-weight:700; font-size:13px; color:#7a6d61; margin-bottom:8px;">Tone</div>
      <div id="toneGroup" role="radiogroup" aria-label="Response tone" style="display:flex; gap:12px; flex-wrap:wrap;">
        <label class="toneCard">
          <input type="radio" name="tone" value="professional" />
          <div class="toneInner">
            <div class="toneTitle">Professional</div>
            <div class="toneDesc">Calm, clear, therapist-like.</div>
          </div>
        </label>
        <label class="toneCard">
          <input type="radio" name="tone" value="casual" />
          <div class="toneInner">
            <div class="toneTitle">Casual</div>
            <div class="toneDesc">Friendly, simple, everyday.</div>
          </div>
        </label>
      </div>
    </div>
    <div class="actions">
      <button class="btn" id="toneCancel">Cancel</button>
      <button class="btn primary" id="toneSave">Save</button>
    </div>
  </div>
</div>

<style>
  .toneCard{
    flex:1 1 180px; border:1.5px solid var(--line); border-radius:16px; background:#fff;
    cursor:pointer; padding:12px; display:block;
  }
  .toneCard input{ display:none }
  .toneInner{ display:flex; flex-direction:column; gap:6px }
  .toneTitle{ font-weight:900; color:#3b220b }
  .toneDesc{ font-size:12px; color:#7a6d61 }
  .toneCard.selected{ border-color:var(--amber); box-shadow:inset 0 0 0 3px rgba(241,166,58,.25) }
</style>

  <script src="./1to1.js"></script>
</body>

</html>